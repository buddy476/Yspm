<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YSPM Songs</title>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-database.js"></script>

    <style>
        body { font-family: Arial, sans-serif; background-color: #fff; text-align: center; }
        .container { width: 80%; margin: auto; }
        h1 { color: #ff0080; text-shadow: 2px 2px 5px gray; }
        .search-box { width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; }
        .song-list { list-style: none; padding: 0; }
        .song-list li { background: #ff0080; color: white; padding: 10px; margin: 5px 0; border-radius: 10px; cursor: pointer; }
        .add-button { background: #ff0080; color: white; padding: 10px; border-radius: 5px; cursor: pointer; margin-top: 20px; }
        .lyrics-container { display: none; background: white; padding: 20px; border-radius: 10px; }
        .back-button { background: #ff0080; color: white; padding: 10px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>YSPM Prayer Ministries</h1>
        <input type="text" class="search-box" id="search" placeholder="Search Songs..." onkeyup="filterSongs()">
        <ul id="songList" class="song-list"></ul>
        <button class="add-button" onclick="showAddForm()">+ Add Song</button>

        <!-- Add Song Form -->
        <div id="addSongForm" class="lyrics-container">
            <h2>Add a New Song</h2>
            <input type="text" id="songTitle" placeholder="Enter song title"><br>
            <textarea id="songLyrics" placeholder="Enter song lyrics"></textarea><br>
            <button onclick="saveSong()">Save Song</button>
            <button class="back-button" onclick="hideAddForm()">Cancel</button>
        </div>

        <!-- Lyrics Display -->
        <div id="lyricsDisplay" class="lyrics-container">
            <button class="back-button" onclick="hideLyrics()">‚Üê Back</button>
            <h2 id="lyricsTitle"></h2>
            <p id="lyricsText"></p>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "yspm-songs.firebaseapp.com",
            databaseURL: "https://yspm-songs-default-rtdb.firebaseio.com",
            projectId: "yspm-songs",
            storageBucket: "yspm-songs.firebasestorage.app",
            messagingSenderId: "492994684444",
            appId: "1:492994684444:web:4de6d0a4600228792ee1d9",
            measurementId: "G-JRZXZ769FJ"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        database.ref("songs").on("value", function(snapshot) {
            let songList = document.getElementById("songList");
            songList.innerHTML = "";
            snapshot.forEach(function(childSnapshot) {
                let song = childSnapshot.val();
                let li = document.createElement("li");
                li.textContent = song.title;
                li.onclick = function() { showLyrics(song.title, song.lyrics); };
                songList.appendChild(li);
            });
        });

        function filterSongs() {
            let input = document.getElementById("search").value.toLowerCase();
            let items = document.querySelectorAll(".song-list li");
            items.forEach(item => {
                item.style.display = item.textContent.toLowerCase().includes(input) ? "block" : "none";
            });
        }

        function showAddForm() {
            document.getElementById("addSongForm").style.display = "block";
        }

        function hideAddForm() {
            document.getElementById("addSongForm").style.display = "none";
        }

        function saveSong() {
            let title = document.getElementById("songTitle").value;
            let lyrics = document.getElementById("songLyrics").value;
            if (title && lyrics) {
                database.ref("songs/" + title).set({ title, lyrics });
                alert("Song saved successfully!");
                hideAddForm();
            } else {
                alert("Please enter both title and lyrics.");
            }
        }

        function showLyrics(title, lyrics) {
            document.getElementById("lyricsTitle").innerText = title;
            document.getElementById("lyricsText").innerText = lyrics;
            document.getElementById("lyricsDisplay").style.display = "block";
        }

        function hideLyrics() {
            document.getElementById("lyricsDisplay").style.display = "none";
        }
    </script>
</body>
</html>
